# [운영체제] 프로세스와 스레드의 차이를 설명해보아라







## 1. 프로세스와 스레드란?

+ 프로세스와 스레드에 대해서 정리하기 위해서는 '프로그램'이라는 개념도 함께 살펴보아야 한다.

### 1.1 프로그램

+ 프로그램이란 '어떤 작업을 위해 실행할 수 있는 파일'로서 파일이 저장 장치에 저장되어 있지만 메모리에는 올라가 있지 않은 '정적인 상태'를 말한다.
+ 프로그램은 단순한 코드 덩어리로, 운영체제는 아직 '프로그램'에게 독립적인 메모리 공간을 할당해주지 않았다. 모든 프로그램은 운영체제가 실행되기 위한 메모리 공간을 할당해줘야 실행될 수 있다.





### 1.2 프로세스

+ 실행 파일(프로그램)을 실행하는 순간 해당 파일은 컴퓨터 메모리에 올라가게 되고 이 상태를 '동적인 상태'라고 하며 이 상태의 프로그램을 '프로세스'라고 한다.
+ '실행되고 있는 컴퓨터 프로그램'이라는 정의를 가지며, '작업'과 같은 단어라고 볼 수 있다.
+ 메모리에 올라와 실행되고 있는 프로그램의 인스턴스이며 운영체제로부터 시스템 자원을 할당받는 '작업의 단위'이다. 객체 지향의 클래스의 인스턴스와는 의미가 다르다. 한 프로그램에서 실행되는 여러 프로세스가 동시에 존재할 수 있다는 것은 비슷하지만, 프로그램에서 상속은 존재하지 않는다.
+ 프로세스는 각각 '독립된 메모리 영역'을 할당받는다. 따라서 프로세스끼리 겹칠 일이 없다.
+ 기본적으로 프로세스당 최소 1개의 '스레드'를 가지고 있다.
+ 운영체제 입장에서의 최소 작업 단위다.





### 1.3 스레드

+ 프로세스 내에서 실행되는 여러 흐름의 단위로, 프로세스와는 다른 더 작은 실행 단위 개념이다.
+ 프로세스의 특정한 수행 경로이며 프로세스가 할당받은 자원을 이용하는 실행의 단위이다.

+ CPU에서 처리하게 되는 최소 작업 단위가 된다.







## 2. 프로세스와 스레드의 차이

+ 프로세스는 운영체제로부터 독립된 시간, 공간 자원을 할당 받아 실행된다. 다른 프로세스의 변수나 자료에 접근할 수 없다.
+ 스레드는 한 프로세스 내에서 Stack 메모리 영역을 제외한 다른 메모리 영역(Code, Data, Heap)을 공유하면서 벙렬적으로 실행된다. 따라서 멀티스레드 시에 멀티태스킹(여러 프로세스가 실행되는 것)보다 공유하고 있는만큼 메모리 자원을 아낄 수 있다.

+ 프로세스는 전술한 듯이 독립적이기 때문에 프로세스가 강제 종료되는 경우에도 다른 프로세스가 영향을 받는 일은 없다.
+ 스레드는 프로세스 내의 Code, Data, Heap 영역을 공유하고 있기 때문에 특정 스레드에서 문제가 발생하면 같은 프로세스 내 다른 모든 스레드들이 종료된다. 메인 스레드도 종료되므로 프로세스 자체의 실행이 끝나게 된다.
+ 당연하게도, 독립적인 프로세스가 스레드보다 그들 간의 통신이 더 어렵다. 프로세는 오직 시스템이 제공하는 IPC 메커니즘을 통해서만 통신할 수 있지만 그만큼 시스템에 의해 관리되어 상대적으로 안전하다. 스레드는 단순히 공유 변수 수정만으로도 스레드간 통신을 구현할 수 있어 통신이 용이하지만 그만큼 안전하지 못하다.